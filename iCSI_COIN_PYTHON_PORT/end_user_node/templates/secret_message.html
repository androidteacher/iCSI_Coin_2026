<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iCSI Coin - Secret Message Creation</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: '#000000',
                        surface: '#09090b', // Zinc 950
                        border: '#27272a',   // Zinc 800
                        primary: 'rgb(var(--color-primary) / <alpha-value>)',  // Dynamic Primary
                        secondary: '#06b6d4', // Cyan
                        muted: '#a1a1aa',    // Zinc 400
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        heading: ['Rajdhani', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            /* Default Purple */
            --color-primary: 168 85 247;
        }

        /* Custom Scrollbar to match Dark Theme */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #27272a;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3f3f46;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
    <script>
        // Apply theme immediately to prevent flash
        const savedTheme = localStorage.getItem('theme-color');
        if (savedTheme) {
            document.documentElement.style.setProperty('--color-primary', savedTheme);
        }
    </script>
</head>

<body class="bg-background text-white font-sans min-h-screen antialiased selection:bg-primary selection:text-black">

    <!-- Top Navigation Bar -->
    <nav class="max-w-[1400px] mx-auto px-6 pt-6 pb-2">
        <div class="bg-surface border border-border rounded-xl px-6 py-3 flex items-center justify-between shadow-lg">
            <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-secondary shadow-[0_0_12px_#06b6d4]"></span>
                <span class="font-heading font-bold text-lg uppercase tracking-widest text-white">iCSI Coin</span>
                <span class="text-zinc-600 text-xs font-mono ml-2">Secret Message Creator</span>
            </div>

            <div class="flex items-center gap-2">
                <a href="/"
                    class="px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-zinc-300 font-bold text-xs uppercase tracking-wider hover:bg-zinc-700 hover:text-white transition-all whitespace-nowrap flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                    Dashboard
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-4xl mx-auto p-6 space-y-8">

        <!-- Tool Section (Moved Top) -->
        <div class="bg-surface border border-border rounded-xl p-8 shadow-sm relative overflow-hidden">
            <div class="absolute top-0 right-0 p-3 opacity-5">
                <svg class="w-32 h-32 text-primary" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                        clip-rule="evenodd"></path>
                </svg>
            </div>

            <h2
                class="font-heading font-bold text-xl uppercase tracking-wider text-white mb-6 flex items-center gap-3 relative z-10">
                <span
                    class="w-2 h-2 rounded-full bg-primary shadow-[0_0_10px_rgb(var(--color-primary))] animate-pulse"></span>
                Secret Message Generator tool
            </h2>

            <div class="space-y-6 relative z-10">
                <div>
                    <label class="block text-zinc-400 text-xs font-bold mb-2 uppercase tracking-wider">
                        Create a wallet address that contains a secret message!
                    </label>
                    <div class="relative">
                        <input type="text" id="secretInput" maxlength="40"
                            placeholder="Enter your secret message (max 40 chars)..."
                            class="w-full bg-zinc-900 border border-zinc-700 text-white px-4 py-4 rounded-lg focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary font-mono transition-all placeholder-zinc-700 text-lg">
                        <div class="absolute right-3 top-4 text-xs font-mono text-zinc-600 bg-zinc-900 px-2 rounded">
                            <span id="charCount" class="text-zinc-400">0</span>/40
                        </div>
                    </div>
                </div>

                <div id="resultArea" class="hidden space-y-3 fade-in">
                    <div class="flex items-center justify-between">
                        <label class="text-secondary text-xs uppercase tracking-wider font-bold">Generated Hex
                            Bytes</label>
                        <span class="text-[10px] text-zinc-600 uppercase font-bold tracking-widest">Copy to
                            Clipboard</span>
                    </div>

                    <div onclick="copyHex()"
                        class="bg-black border border-zinc-800 rounded-lg p-5 font-mono text-secondary break-all shadow-inner cursor-pointer hover:border-zinc-600 transition-colors relative group">
                        <div id="hexOutput" class="text-lg leading-relaxed break-all"></div>
                        <div
                            class="absolute inset-0 flex items-center justify-center bg-zinc-900/10 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity">
                            <!-- Hover Effect overlay -->
                        </div>
                    </div>

                    <p class="text-sm text-zinc-300 border-l-2 border-primary pl-3 font-medium">
                        Send to this wallet address to see your secret message on the chain.
                    </p>
                </div>
            </div>
        </div>

        <!-- Explanation Section (Moved Down) -->
        <div class="bg-surface border border-border rounded-xl p-8 shadow-sm">
            <div class="flex items-center gap-4 mb-6">
                <div class="p-3 bg-secondary/10 rounded-lg">
                    <span class="text-2xl">üïµÔ∏è</span>
                </div>
                <h1 class="font-heading font-bold text-3xl uppercase tracking-wider text-white">
                    Secret Message Creation
                </h1>
            </div>

            <div class="prose prose-invert max-w-none text-zinc-400 space-y-4 leading-relaxed">
                <p>
                    Blockchains are essentially distributed databases stored in binary files. For receiving nodes in the
                    iCSI Coin network,
                    the blockchain data is persisted in files named like <code
                        class="bg-zinc-900 px-1.5 py-0.5 rounded text-secondary font-mono text-sm border border-zinc-800">blk00000.dat</code>.
                </p>
                <p>
                    When you inspect these files using a hex editor or command-line tool like <strong>XXD</strong>, you
                    will see the raw bytes on the left
                    column and their ASCII interpretation on the right column. This structural characteristic allows
                    users to manipulate the bytes
                    (which represent transactions or addresses) to embed secret messages that become visible in the
                    ASCII view.
                </p>

                <div
                    class="bg-black rounded-lg p-4 font-mono text-sm border border-zinc-800 my-6 shadow-md relative overflow-hidden group">
                    <div class="absolute top-0 left-0 w-1 h-full bg-secondary"></div>
                    <span class="text-green-400 select-none">$</span> xxd blk0000x.dat
                </div>

                <p>
                    For instance, if a public key or address starts with the hex sequence
                    <code class="text-secondary font-mono bg-zinc-900 px-1 ml-1 rounded">42 65 63 6b 31 32 33</code>,
                    the ASCII column to the right would display <strong
                        class="text-white bg-primary/20 px-1 rounded">Beck123</strong>.
                </p>

                <div class="mt-8">
                    <div class="relative rounded-xl border border-zinc-700 shadow-2xl overflow-hidden bg-black">
                        <img src="/static/pics/xxd.png" alt="XXD Verification"
                            class="w-full opacity-90 hover:opacity-100 transition-opacity">
                        <div
                            class="absolute bottom-0 w-full bg-surface/90 backdrop-blur border-t border-border p-2 text-center text-xs text-zinc-500 font-mono">
                            Figure 1: XXD command output demonstrating Hex-to-ASCII mapping.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const input = document.getElementById('secretInput');
        const hexOutput = document.getElementById('hexOutput');
        const resultArea = document.getElementById('resultArea');
        const charCount = document.getElementById('charCount');

        input.addEventListener('input', (e) => {
            const text = e.target.value;
            charCount.innerText = text.length;

            // Colorize count based on length
            if (text.length >= 35) charCount.className = "text-red-500";
            else if (text.length >= 20) charCount.className = "text-yellow-500";
            else charCount.className = "text-zinc-400";

            if (text.length > 0) {
                let hex = '';
                for (let i = 0; i < text.length; i++) {
                    // Start of Update: Removed trailing space + ' ' 
                    hex += text.charCodeAt(i).toString(16).padStart(2, '0');
                }
                hexOutput.innerText = hex.toUpperCase().trim();
                resultArea.classList.remove('hidden');
            } else {
                resultArea.classList.add('hidden');
            }
        });

        function copyHex() {
            const hex = hexOutput.innerText;
            if (hex) {
                navigator.clipboard.writeText(hex);
                // Visual feedback could be added here
                hexOutput.style.color = '#ffffff';
                setTimeout(() => hexOutput.style.color = '', 200);
            }
        }
    </script>
</body>

</html>