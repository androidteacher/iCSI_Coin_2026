<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iCSI Coin Node Management</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: '#000000',
                        surface: '#09090b', // Zinc 950
                        border: '#27272a',   // Zinc 800
                        primary: 'rgb(var(--color-primary) / <alpha-value>)',  // Dynamic Primary
                        secondary: '#06b6d4', // Cyan
                        muted: '#a1a1aa',    // Zinc 400
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        heading: ['Rajdhani', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            /* Default Purple */
            --color-primary: 168 85 247;
        }

        /* Custom Scrollbar to match Dark Theme */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #27272a;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3f3f46;
        }
    </style>
    <script>
        // Apply theme immediately to prevent flash
        const savedTheme = localStorage.getItem('theme-color');
        if (savedTheme) {
            document.documentElement.style.setProperty('--color-primary', savedTheme);
        }
    </script>
</head>

<body
    class="bg-background text-white font-sans min-h-screen min-w-[1280px] antialiased selection:bg-primary selection:text-black">

    <!-- Top Navigation Bar -->
    <nav class="max-w-[1400px] mx-auto px-6 pt-6 pb-2">
        <div class="bg-surface border border-border rounded-xl px-6 py-3 flex items-center justify-between shadow-lg">
            <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-red-500 shadow-[0_0_12px_rgba(239,68,68,0.8)]"></span>
                <span class="font-heading font-bold text-lg uppercase tracking-widest text-white">iCSI Coin</span>
                <span class="text-zinc-600 text-xs font-mono ml-2">Node Management</span>
            </div>
            <div class="flex items-center gap-2">
                <a href="/"
                    class="px-4 py-2 rounded-lg bg-zinc-800 border border-zinc-700 text-zinc-300 font-bold text-xs uppercase tracking-wider hover:bg-zinc-700 hover:text-white transition-all flex items-center gap-2">
                    ‚¨Ö Back to Dashboard
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-[1000px] mx-auto p-6 pt-8 space-y-12">

        <!-- Header -->
        <div class="text-center space-y-4">
            <h1 class="text-4xl font-heading font-bold text-white uppercase tracking-widest">
                Node Management Console
            </h1>
            <p class="text-zinc-500 max-w-2xl mx-auto">
                Here is how you Update, Restart, and Shutdown this node!
            </p>
        </div>

        <!-- 1. UPDATE & RESTART -->
        <div
            class="bg-surface border border-border rounded-xl p-8 relative overflow-hidden group hover:border-primary/30 transition-all">
            <div
                class="absolute top-0 right-0 p-4 opacity-10 font-heading font-bold text-9xl text-primary select-none pointer-events-none">
                01</div>

            <div class="relative z-10">
                <h2 class="text-2xl font-heading font-bold text-primary mb-4 flex items-center gap-3">
                    <span class="w-2 h-8 bg-primary rounded-full"></span>
                    Update & Restart Node
                </h2>

                <p class="text-zinc-300 mb-6 text-lg">
                    Did this node keel over on you? It's totally possible! Here's the easiest way to restart it.
                </p>

                <div class="bg-black border border-zinc-800 rounded-lg p-6 font-mono text-sm shadow-inner relative">
                    <button onclick="copyToClipboard('cmdUpdate')"
                        class="absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors" title="Copy">
                        üìã
                    </button>
                    <code id="cmdUpdate" class="block text-green-400">
cd ../UPDATE_AND_RESTART_NODE<br>
./update_end_user_node.sh
                    </code>
                </div>
            </div>
        </div>

        <!-- 2. RESET BLOCKCHAIN -->
        <div
            class="bg-surface border border-border rounded-xl p-8 relative overflow-hidden group hover:border-secondary/30 transition-all">
            <div
                class="absolute top-0 right-0 p-4 opacity-10 font-heading font-bold text-9xl text-secondary select-none pointer-events-none">
                02</div>

            <div class="relative z-10">
                <h2 class="text-2xl font-heading font-bold text-secondary mb-4 flex items-center gap-3">
                    <span class="w-2 h-8 bg-secondary rounded-full"></span>
                    Factory Reset (Clear Data)
                </h2>

                <p class="text-zinc-300 mb-6 text-lg">
                    This will <strong class="text-red-400">completely erase</strong> your blockchain data, wallet, and
                    history, giving you a clean slate.
                    <br>Your node will re-download the chain from peers starting from scratch (Genesis Block).
                </p>

                <div class="p-4 bg-red-900/20 border border-red-900/50 rounded-lg mb-6 flex gap-3 items-start">
                    <span class="text-2xl">‚ö†Ô∏è</span>
                    <p class="text-xs text-red-200 mt-1">
                        <strong>Warning:</strong> Ensure you have backed up your Private Keys before running this if you
                        have funds!
                    </p>
                </div>

                <div class="bg-black border border-zinc-800 rounded-lg p-6 font-mono text-sm shadow-inner relative">
                    <button onclick="copyToClipboard('cmdReset')"
                        class="absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors" title="Copy">
                        üìã
                    </button>
                    <code id="cmdReset" class="block text-secondary">
cd ../BLOCKCHAIN_RESET_SCRIPTS<br>
./clear_end_user_node.sh
                    </code>
                </div>
            </div>
        </div>

        <!-- 3. SHUTDOWN -->
        <div
            class="bg-surface border border-border rounded-xl p-8 relative overflow-hidden group hover:border-red-500/30 transition-all">
            <div
                class="absolute top-0 right-0 p-4 opacity-10 font-heading font-bold text-9xl text-red-500 select-none pointer-events-none">
                03</div>

            <div class="relative z-10">
                <h2 class="text-2xl font-heading font-bold text-red-500 mb-4 flex items-center gap-3">
                    <span class="w-2 h-8 bg-red-500 rounded-full"></span>
                    Graceful Shutdown
                </h2>

                <p class="text-zinc-300 mb-6 text-lg">
                    Safely stop all node processes and exit Docker containers.
                </p>

                <div class="bg-black border border-zinc-800 rounded-lg p-6 font-mono text-sm shadow-inner relative">
                    <button onclick="copyToClipboard('cmdShutdown')"
                        class="absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors" title="Copy">
                        üìã
                    </button>
                    <code id="cmdShutdown" class="block text-red-400">
cd ../SHUTDOWN_SCRIPTS<br>
./shutdown_user_node.sh
                    </code>
                </div>
            </div>
        </div>

    </div>

    <!-- Script -->
    <script>
        function copyToClipboard(elementId) {
            const el = document.getElementById(elementId);
            // Replace <br> with newlines for copying
            const text = el.innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("Command copied to clipboard!");
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }
    </script>
</body>

</html>